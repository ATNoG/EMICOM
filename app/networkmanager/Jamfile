#==============================================================================
# Brief   : NetworkManager Application
# Authors : André Prata <andreprata@av.it.pt>
#------------------------------------------------------------------------------
# ODTONE - Open Dot Twenty One
#
# Copyright (C) 2009-2012 Universidade Aveiro
# Copyright (C) 2009-2012 Instituto de Telecomunicações - Pólo Aveiro
#
# This software is distributed under a license. The full license
# agreement can be found in the file LICENSE in this distribution.
# This software may not be copied, modified, sold or distributed
# other than expressed in the named license agreement.
#
# This software is distributed without any warranty.
#==============================================================================

project networkmanager
	: requirements
	  <linkflags>-ldbus-c++-1
	  <linkflags>-lnl-3
	  <linkflags>-lnl-genl-3
	  <linkflags>-lnl-route-3
	  <linkflags>-lboost_filesystem
	  <include>/usr/include/libnl3
	;

odtone.explicit-alias if_80211
	: driver/if_80211.cpp
	  driver/nlwrap/genl_msg.cpp
	  driver/nlwrap/genl_socket.cpp
	  driver/nlwrap/genl_cb.cpp
	  driver/nlwrap/rtnl_socket.cpp
	  driver/nlwrap/rtnl_link.cpp
	  driver/nlwrap/rtnl_link_cache.cpp
	;

#odtone.runtime-lib boost_filesystem ;
odtone.explicit-alias networkmanager-types
	: types/NetworkManager.cpp
	  types/AccessPoint.cpp
	  types/Device.cpp
	  types/DeviceWireless.cpp
	  types/DeviceWired.cpp
	  types/DeviceWiMax.cpp
#	  types/WiMaxNsp.cpp
	  types/DeviceModem.cpp
	  types/IP4Config.cpp
	  types/IP6Config.cpp
	  types/DHCP4Config.cpp
	  types/DHCP6Config.cpp
	  types/Settings.cpp
	  types/Connection.cpp
	  types/ConnectionActive.cpp
	  types/AgentManager.cpp
	;


exe networkmanager
	: main.cpp
	  mih_user.cpp
	  networkmanager-types
	  if_80211
	  ../../lib/odtone//odtone_base
	  ../../lib/odtone/mih//odtone_mih
	  ../../lib/odtone/sap//odtone_sap
	;

install install
	: networkmanager
	  networkmanager.conf
	: <location>../../dist
	;

