<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Getting Started</title>
<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="../index.html" title="ODTONE 0.3">
<link rel="up" href="../index.html" title="ODTONE 0.3">
<link rel="prev" href="intro.html" title="Introduction">
<link rel="next" href="library.html" title="Libraries">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="'ODTONE - Open Dot Twenty One'" width="100" height="100" src=".././images/logo.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="intro.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="library.html"><img src="../images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="odtone.getStart"></a><a class="link" href="getStart.html" title="Getting Started">Getting Started</a>
</h2></div></div></div>
<h2>
<a name="odtone.getStart.h0"></a>
      <span><a name="odtone.getStart.installation"></a></span><a class="link" href="getStart.html#odtone.getStart.installation">Installation</a>
    </h2>
<p>
      As ODTONE is developed to work in several platforms, we won't provide detailed
      tutorials for each mainstream operating system. We will rather present the
      main guidelines for installing ODTONE and any relevant notes on specific platforms
      that might prove an obstacle.
    </p>
<h4>
<a name="odtone.getStart.h1"></a>
      <span><a name="odtone.getStart.1__required_dependencies"></a></span><a class="link" href="getStart.html#odtone.getStart.1__required_dependencies">1.
      Required Dependencies</a>
    </h4>
<p>
      In order to correctly use ODTONE, you must first make sure that you have the
      required dependencies:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
          <span class="bold"><strong>Boost Developer libraries (v1.47 or higher):</strong></span>
          If you don't have them installed in your system, you can go to <a href="http://www.boost.org/" target="_top">boost's
          website</a> and download the most recent version of the Boost libraries.
        </li></ul></div>
<h5>
<a name="odtone.getStart.h2"></a>
      <span><a name="odtone.getStart.1_1__boost_library_quick_guide"></a></span><a class="link" href="getStart.html#odtone.getStart.1_1__boost_library_quick_guide">1.1.
      Boost Library Quick Guide</a>
    </h5>
<p>
      Boost is required to compile ODTONE so, to correctly use ODTONE, you must first
      make sure you have the Boost libraries sources and Boost.Build installed in
      your system.
    </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
          Download the Boost library <a href="http://www.boost.org/" target="_top">boost's website</a>
          and unpack it.
        </li>
<li class="listitem">
          Install Boost.Build (if your already have it, skip this step). You will
          need to compile the Boost.Build engine. You can use the bootstrap script
          from the Boost library sources and then copy the resulting binary (b2)
          to a proper place (within your $PATH) or you can download a pre-built binary
          from <a href="http://www.boost.org/" target="_top">boost's website</a>. To finish
          the Boost.Build installation, you must tell Boost.Build engine where to
          find the remaining of Boost.Build. You can setup a boost-build.jam file
          in your home directory to tell where Boost.Build is. Example:
        </li>
</ol></div>
<div class="table">
<a name="odtone.getStart.setup_boost_build_jam"></a><p class="title"><b>Table&#160;1.&#160;Setup boost-build.jam</b></p>
<div class="table-contents"><table class="table" summary="Setup boost-build.jam">
<colgroup>
<col>
<col>
</colgroup>
<tbody><tr>
<td>
              <p>
                boost-build.jam
              </p>
            </td>
<td>
              <p>
</p>
<pre class="programlisting"><span class="error">#</span><span class="special">==============================================================================</span>
<span class="preprocessor"># Put</span> <span class="keyword">this</span> <span class="identifier">file</span> <span class="identifier">at</span> <span class="identifier">the</span> <span class="identifier">root</span> <span class="identifier">directory</span> <span class="identifier">of</span> <span class="identifier">your</span> <span class="identifier">project</span> <span class="keyword">or</span> <span class="identifier">in</span> <span class="identifier">any</span> <span class="identifier">of</span> <span class="identifier">its</span> <span class="identifier">parent</span>
<span class="preprocessor"># directories</span><span class="special">.</span> <span class="identifier">Replace</span> <span class="char">'path-to-boost'</span> <span class="identifier">with</span> <span class="identifier">the</span> <span class="identifier">path</span> <span class="identifier">to</span> <span class="identifier">the</span> <span class="identifier">boost</span> <span class="identifier">libraries</span>
<span class="preprocessor"># sources</span><span class="special">.</span>
<span class="error">#</span>
<span class="preprocessor"># See</span> <span class="identifier">the</span> <span class="identifier">Boost</span><span class="special">.</span><span class="identifier">Build</span> <span class="identifier">documentation</span> <span class="keyword">for</span> <span class="identifier">more</span> <span class="identifier">details</span><span class="special">!</span>
<span class="error">#</span><span class="special">==============================================================================</span>

<span class="identifier">boost</span><span class="special">-</span><span class="identifier">build</span> <span class="identifier">path</span><span class="special">-</span><span class="identifier">to</span><span class="special">-</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">tools</span><span class="special">/</span><span class="identifier">build</span><span class="special">/</span><span class="identifier">v2</span> <span class="special">;</span>
        </pre>
<p>
              </p>
            </td>
</tr></tbody>
</table></div>
</div>
<br class="table-break"><p>
      Finally, run 'b2' to compile ODTONE.
    </p>
<p>
      Consult the Boost.Build documentation for more details!
    </p>
<h4>
<a name="odtone.getStart.h3"></a>
      <span><a name="odtone.getStart.2__getting_odtone"></a></span><a class="link" href="getStart.html#odtone.getStart.2__getting_odtone">2.
      Getting ODTONE</a>
    </h4>
<p>
      <span class="bold"><strong>In a tarball</strong></span>
    </p>
<p>
      You can get the ODTONE source code tarball from our <a href="http://helios.av.it.pt/projects/odtone/files" target="_top">project
      page</a>. Then just unpack it and you are ready to compile and install
      ODTONE.
    </p>
<p>
      <span class="bold"><strong>From the git repository</strong></span>
    </p>
<p>
      You can create your own local copy of the ODTONE by cloning the git repository
      from <a href="http://helios.av.it.pt/projects/odtone/repository" target="_top">ODTONE
      repository</a>.
</p>
<pre class="programlisting"><span class="special">[*</span><span class="identifier">Username</span><span class="special">:]</span> <span class="identifier">user</span>
<span class="special">[*--</span> <span class="identifier">No</span> <span class="identifier">password</span><span class="special">]</span>
</pre>
<p>
    </p>
<p>
      To clone the git repository you must run the next command:
</p>
<pre class="programlisting"><span class="identifier">git</span> <span class="identifier">clone</span> <span class="identifier">https</span><span class="special">://</span><span class="identifier">user</span><span class="error">@</span><span class="identifier">helios</span><span class="special">.</span><span class="identifier">av</span><span class="special">.</span><span class="identifier">it</span><span class="special">.</span><span class="identifier">pt</span><span class="special">/</span><span class="identifier">git</span><span class="special">/</span><span class="identifier">odtone</span><span class="special">/</span> <span class="identifier">odtone</span>
</pre>
<p>
    </p>
<p>
      Then, in order to get the last changes in the code, you can checkout the "dev/master"
      branch:
</p>
<pre class="programlisting"><span class="identifier">git</span> <span class="identifier">checkout</span> <span class="special">-</span><span class="identifier">b</span> <span class="special">&lt;</span><span class="identifier">your</span> <span class="identifier">branch</span> <span class="identifier">name</span><span class="special">&gt;</span> <span class="identifier">origin</span><span class="special">/</span><span class="identifier">dev</span><span class="special">/</span><span class="identifier">master</span>
</pre>
<p>
    </p>
<h4>
<a name="odtone.getStart.h4"></a>
      <span><a name="odtone.getStart.3__compiling_and_installing_odtone"></a></span><a class="link" href="getStart.html#odtone.getStart.3__compiling_and_installing_odtone">3.
      Compiling and installing ODTONE</a>
    </h4>
<p>
      Once you have obtained the ODTONE source code and assured that you have the
      right dependencies installed, you are ready to compile and install ODTONE.
    </p>
<div class="table">
<a name="odtone.getStart.platform_support"></a><p class="title"><b>Table&#160;2.&#160;Platform Support</b></p>
<div class="table-contents"><table class="table" summary="Platform Support">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
            </th>
<th>
              <p>
                x86-32
              </p>
            </th>
<th>
              <p>
                x86-64
              </p>
            </th>
<th>
              <p>
                ARM
              </p>
            </th>
</tr></thead>
<tbody>
<tr>
<td>
              <p>
                Linux
              </p>
            </td>
<td>
              <p>
                <span class="inlinemediaobject"><img src=".././images/check.png" alt="check"></span>
              </p>
            </td>
<td>
              <p>
                <span class="inlinemediaobject"><img src=".././images/check.png" alt="check"></span>
              </p>
            </td>
<td>
              <p>
                <span class="inlinemediaobject"><img src=".././images/check.png" alt="check"></span>
              </p>
            </td>
</tr>
<tr>
<td>
              <p>
                Windows
              </p>
            </td>
<td>
              <p>
                <span class="inlinemediaobject"><img src=".././images/check.png" alt="check"></span>
              </p>
            </td>
<td>
              <p>
                <span class="inlinemediaobject"><img src=".././images/check.png" alt="check"></span>
              </p>
            </td>
<td>
              <p>
                <span class="inlinemediaobject"><img src=".././images/interrogation.png" alt="interrogation"></span>
              </p>
            </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
<p>
        <span class="bold"><strong>For Linux</strong></span>
      </p>
<p>
        We recommend GCC. Most distributions already come with the necessary pre-requisites,
        you may additionally need to install g++.
      </p>
<p>
        If you get link errors relative to undefined pthread symbols, this means
        that your compiler does not link to pthreads by default. You can either pass
        the "<em class="replaceable"><code>linkflags=-lpthread</code></em>" option to
        bjam. Or, you can also configure the toolset to link to this library, set
        "<em class="replaceable"><code>using gcc : : : &lt;linkflags&gt;-lpthread ;</code></em>"
        without quotes at your user-config.jam.
      </p>
</td></tr>
</table></div>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
<p>
        <span class="bold"><strong>For Windows</strong></span>
      </p>
<p>
        We recommend MSVC. You will need to download and install the latest Windows
        SDK. This already comes with all pre-requisite libraries and toolchains.
      </p>
</td></tr>
</table></div>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
<p>
        <span class="bold"><strong>For Android</strong></span>
      </p>
<p>
        Current Android Bionic headers are still too buggy to compile ODTONE. For
        example, the boost::asio::ip headers does no compile because of buggy &lt;netinet/in.h&gt;
        and &lt;netinet/in6.h&gt; headers.
      </p>
<p>
        However, since Android is based on linux, it is possible to compile ODTONE
        with the CodeSourcery GNU Toolchain for ARM Processors, at the expense of
        a bigger binary, since we have to link all libraries statically. The target
        must be arm-none-linux-gnueabi.
      </p>
<p>
        Prebuild binaries are available at <a href="http://www.codesourcery.com/sgpp/lite/arm" target="_top">CodeSourcery</a>
      </p>
<p>
        In order to setup user-config.jam for Android, you must add the following
        line (without quotes):
      </p>
<p>
        "<em class="replaceable"><code>using gcc : android : path-to-toolset/arm-none-linux-gnueabi-g++
        : &lt;linkflags&gt;"-Wl,--whole-archive -lpthread -Wl,--no-whole-archive
        -lc" ;</code></em>"
      </p>
<p>
        To use the Android toolset, pass the command line option "<em class="replaceable"><code>toolset=gcc-android</code></em>"
        to bjam.
      </p>
<p>
        The Android SDK has the necessary tools to run, debug and deploy the ODTONE
        binaries.
      </p>
</td></tr>
</table></div>
<h4>
<a name="odtone.getStart.h5"></a>
      <span><a name="odtone.getStart.4__generate_doxygen_documentation"></a></span><a class="link" href="getStart.html#odtone.getStart.4__generate_doxygen_documentation">4.
      Generate Doxygen Documentation</a>
    </h4>
<p>
      As a supplement to this documentation, it is possible to generate incode documentation.
      This can be done using Doxygen, which parses the sources and generates the
      documentation. Doxygen uses a configuration file to determine all of its settings.
    </p>
<p>
      To simplify the creation of a configuration file, Doxygen can create a template
      configuration file for you. To do this call Doxygen from the command line with
      the -g option:
    </p>
<pre class="programlisting"><span class="identifier">doxygen</span> <span class="special">-</span><span class="identifier">g</span> <span class="special">&lt;</span><span class="identifier">config</span><span class="special">-</span><span class="identifier">file</span><span class="special">&gt;</span>
</pre>
<p>
      To generate the documentation you can now enter:
    </p>
<pre class="programlisting"><span class="identifier">doxygen</span> <span class="special">&lt;</span><span class="identifier">config</span><span class="special">-</span><span class="identifier">file</span><span class="special">&gt;</span>
</pre>
<h4>
<a name="odtone.getStart.h6"></a>
      <span><a name="odtone.getStart.odtone_user_guide"></a></span><a class="link" href="getStart.html#odtone.getStart.odtone_user_guide">ODTONE
      User Guide</a>
    </h4>
<h5>
<a name="odtone.getStart.h7"></a>
      <span><a name="odtone.getStart.configuration"></a></span><a class="link" href="getStart.html#odtone.getStart.configuration">Configuration</a>
    </h5>
<p>
      <span class="bold"><strong>ODTONE-MIHF</strong></span>
    </p>
<p>
      The MIHF can be configured based on a set of parameters, which can be configured
      either using an configuration file or passing them directly in the command
      line. The available configurable parameters are presented next:
    </p>
<p>
</p>
<pre class="programlisting"><span class="identifier">MIHF</span> <span class="identifier">Configuration</span> <span class="identifier">Options</span><span class="special">:</span>
   <span class="special">--</span><span class="identifier">help</span>                               <span class="identifier">Display</span> <span class="identifier">configuration</span> <span class="identifier">options</span>
   <span class="special">--</span><span class="identifier">conf</span><span class="special">.</span><span class="identifier">file</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="identifier">odtone</span><span class="special">.</span><span class="identifier">conf</span><span class="special">)</span>       <span class="identifier">Configuration</span> <span class="identifier">file</span>
   <span class="special">--</span><span class="identifier">conf</span><span class="special">.</span><span class="identifier">recv_buff_len</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">4096</span><span class="special">)</span>     <span class="identifier">Receive</span> <span class="identifier">buffer</span> <span class="identifier">length</span>
   <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">id</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="identifier">mihf</span><span class="special">)</span>                <span class="identifier">MIHF</span> <span class="identifier">ID</span>
   <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">ip</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">127.0</span><span class="special">.</span><span class="number">0.1</span><span class="special">)</span>           <span class="identifier">MIHF</span> <span class="identifier">IP</span>
   <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">remote_port</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">4551</span><span class="special">)</span>       <span class="identifier">Remote</span> <span class="identifier">MIHF</span> <span class="identifier">communication</span> <span class="identifier">port</span>
   <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">local_port</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">1025</span><span class="special">)</span>        <span class="identifier">Local</span> <span class="identifier">SAPs</span> <span class="identifier">communication</span> <span class="identifier">port</span>
   <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">peers</span> <span class="identifier">arg</span>                     <span class="identifier">List</span> <span class="identifier">of</span> <span class="identifier">peer</span> <span class="identifier">MIHFs</span>
   <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">users</span> <span class="identifier">arg</span>                     <span class="identifier">List</span> <span class="identifier">of</span> <span class="identifier">local</span> <span class="identifier">MIH</span><span class="special">-</span><span class="identifier">Users</span>
   <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">links</span> <span class="identifier">arg</span>                     <span class="identifier">List</span> <span class="identifier">of</span> <span class="identifier">local</span> <span class="identifier">Links</span> <span class="identifier">SAPs</span>
   <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">transport</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="identifier">udp</span><span class="special">,</span> <span class="identifier">tcp</span><span class="special">)</span>     <span class="identifier">List</span> <span class="identifier">of</span> <span class="identifier">supported</span> <span class="identifier">transport</span> <span class="identifier">protocols</span>
   <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">link_response_time</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">300</span><span class="special">)</span> <span class="identifier">Link</span> <span class="identifier">SAP</span> <span class="identifier">response</span> <span class="identifier">time</span> <span class="special">(</span><span class="identifier">milliseconds</span><span class="special">)</span>
   <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">link_delete</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">2</span><span class="special">)</span>          <span class="identifier">Link</span> <span class="identifier">SAP</span> <span class="identifier">response</span> <span class="identifier">fails</span> <span class="identifier">to</span> <span class="identifier">forget</span>
   <span class="special">--</span><span class="identifier">enable_broadcast</span>                   <span class="identifier">Allows</span> <span class="identifier">broadcast</span> <span class="identifier">messages</span>
   <span class="special">--</span><span class="identifier">log</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">1</span><span class="special">)</span>                       <span class="identifier">Log</span> <span class="identifier">level</span> <span class="special">[</span><span class="number">0</span><span class="special">-</span><span class="number">4</span><span class="special">]</span>
</pre>
<p>
    </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
<p>
        All configurable parameters are self-explained and, therefore, we will only
        mention those that are more complex to configure.
      </p>
<p>
        <span class="bold"><strong>List of peer MIHFs:</strong></span> Comma separated list
        of remote MIHF's.
      </p>
<p>
        Usage: mihf.peers = &lt;mihf id&gt; &lt;ip&gt; &lt;port&gt;, ...
      </p>
<p>
        <span class="bold"><strong>List of local MIH-Users:</strong></span> Comma separated
        list of local MIH User SAP.
      </p>
<p>
        Usage: mihf.users = &lt;user sap id&gt; &lt;port&gt; &lt;mbbhandover&gt;,
        ...
      </p>
<p>
        <span class="bold"><strong>List of local Link SAPs:</strong></span> Comma separated
        list of local MIH Link SAPs.
      </p>
<p>
        Usage: mihf.links = &lt;link sap id&gt; &lt;port&gt; &lt;techonoly type&gt;
        &lt;interface&gt;, ...
      </p>
<p>
        <span class="bold"><strong>List of suppoted transport protocols:</strong></span> Comma
        separed list of the transport protocols available. For now UDP and TCP protocols
        are supported.
      </p>
<p>
        Usage: mihf.transport = &lt;udp/tcp&gt;, ...
      </p>
</td></tr>
</table></div>
<p>
      <span class="bold"><strong>SAP's</strong></span>
</p>
<pre class="programlisting"><span class="identifier">MIH</span> <span class="identifier">Usr</span> <span class="identifier">Configuration</span><span class="special">:</span>
   <span class="special">--</span><span class="identifier">help</span>                           <span class="identifier">Display</span> <span class="identifier">configuration</span> <span class="identifier">options</span>
   <span class="special">--</span><span class="identifier">conf</span><span class="special">.</span><span class="identifier">file</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="identifier">mih_usr</span><span class="special">.</span><span class="identifier">conf</span><span class="special">)</span>  <span class="identifier">Configuration</span> <span class="identifier">file</span>
   <span class="special">--</span><span class="identifier">conf</span><span class="special">.</span><span class="identifier">recv_buff_len</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">4096</span><span class="special">)</span> <span class="identifier">Receive</span> <span class="identifier">buffer</span> <span class="identifier">length</span>
   <span class="special">--</span><span class="identifier">conf</span><span class="special">.</span><span class="identifier">port</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">1234</span><span class="special">)</span>          <span class="identifier">Listening</span> <span class="identifier">port</span>
   <span class="special">--</span><span class="identifier">user</span><span class="special">.</span><span class="identifier">id</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="identifier">user</span><span class="special">)</span>            <span class="identifier">MIH</span><span class="special">-</span><span class="identifier">User</span> <span class="identifier">ID</span>
   <span class="special">--</span><span class="identifier">user</span><span class="special">.</span><span class="identifier">handover</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">1</span><span class="special">)</span>         <span class="identifier">MIH</span><span class="special">-</span><span class="identifier">User</span> <span class="identifier">handover</span> <span class="identifier">support</span>
   <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">ip</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">127.0</span><span class="special">.</span><span class="number">0.1</span><span class="special">)</span>       <span class="identifier">Local</span> <span class="identifier">MIHF</span> <span class="identifier">IP</span> <span class="identifier">address</span>
   <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">local_port</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">1025</span><span class="special">)</span>    <span class="identifier">Local</span> <span class="identifier">MIHF</span> <span class="identifier">communication</span> <span class="identifier">port</span>
   <span class="special">--</span><span class="identifier">dest</span> <span class="identifier">arg</span>                       <span class="identifier">MIHF</span> <span class="identifier">destination</span>
</pre>
<p>
    </p>
<p>
</p>
<pre class="programlisting"><span class="identifier">MIH</span> <span class="identifier">Link</span> <span class="identifier">SAP</span> <span class="identifier">Configuration</span><span class="special">:</span>
     <span class="special">--</span><span class="identifier">help</span>                           <span class="identifier">Display</span> <span class="identifier">configuration</span> <span class="identifier">options</span>
     <span class="special">--</span><span class="identifier">conf</span><span class="special">.</span><span class="identifier">file</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="identifier">link_sap</span><span class="special">.</span><span class="identifier">conf</span><span class="special">)</span> <span class="identifier">Configuration</span> <span class="identifier">file</span>
     <span class="special">--</span><span class="identifier">conf</span><span class="special">.</span><span class="identifier">recv_buff_len</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">4096</span><span class="special">)</span> <span class="identifier">Receive</span> <span class="identifier">buffer</span> <span class="identifier">length</span>
     <span class="special">--</span><span class="identifier">link</span><span class="special">.</span><span class="identifier">id</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="identifier">link</span><span class="special">)</span>            <span class="identifier">Link</span> <span class="identifier">SAP</span> <span class="identifier">ID</span>
     <span class="special">--</span><span class="identifier">link</span><span class="special">.</span><span class="identifier">port</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">1235</span><span class="special">)</span>          <span class="identifier">Listening</span> <span class="identifier">Port</span>
     <span class="special">--</span><span class="identifier">link</span><span class="special">.</span><span class="identifier">tec</span> <span class="identifier">arg</span>                   <span class="identifier">Technology</span> <span class="identifier">type</span>
     <span class="special">--</span><span class="identifier">link</span><span class="special">.</span><span class="identifier">link_addr_list</span> <span class="identifier">arg</span>        <span class="identifier">Interface</span> <span class="identifier">address</span>
     <span class="special">--</span><span class="identifier">link</span><span class="special">.</span><span class="identifier">event_list</span> <span class="identifier">arg</span>            <span class="identifier">List</span> <span class="identifier">of</span> <span class="identifier">supported</span> <span class="identifier">events</span>
     <span class="special">--</span><span class="identifier">link</span><span class="special">.</span><span class="identifier">command_list</span> <span class="identifier">arg</span>          <span class="identifier">List</span> <span class="identifier">of</span> <span class="identifier">supported</span> <span class="identifier">commands</span>
     <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">ip</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">127.0</span><span class="special">.</span><span class="number">0.1</span><span class="special">)</span>       <span class="identifier">Local</span> <span class="identifier">MIHF</span> <span class="identifier">IP</span>
     <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">id</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="identifier">local</span><span class="special">-</span><span class="identifier">mihf</span><span class="special">)</span>      <span class="identifier">Local</span> <span class="identifier">MIHF</span> <span class="identifier">ID</span>
     <span class="special">--</span><span class="identifier">mihf</span><span class="special">.</span><span class="identifier">local_port</span> <span class="identifier">arg</span> <span class="special">(=</span><span class="number">1025</span><span class="special">)</span>    <span class="identifier">Local</span> <span class="identifier">MIHF</span> <span class="identifier">communication</span> <span class="identifier">port</span>
</pre>
<p>
    </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
<p>
        All configurable parameters are self-explained and, therefore, we will only
        mention those that are more complex to configure.
      </p>
<p>
        <span class="bold"><strong>Technology type:</strong></span> Network interface card
        technology. Supported values: GSM, GPRS, EDGE, 802.3, Other, 802_11, CDMA2000,
        UMTS, CDMA2000-HRPD, 802_16, 802_20, 802_22.
      </p>
<p>
        Usage: tec = &lt;NIC technology&gt;
      </p>
<p>
        <span class="bold"><strong>Interface Address:</strong></span> Network interface card
        address.
      </p>
<p>
        Usage: link_addr = &lt;interface address&gt;
      </p>
<p>
        <span class="bold"><strong>List of supported events:</strong></span> Comma separated
        list of the Link SAP's supported events.
      </p>
<p>
        Usage: event_list = &lt;link event 1&gt;, &lt;link event 2&gt;, (...), &lt;link
        event N&gt;
      </p>
<p>
        <span class="bold"><strong>List of supported events:</strong></span> Comma separated
        list of the Link SAP's supported commands.
      </p>
<p>
        Usage: command_list = &lt;link command 1&gt;, &lt;link command 2&gt;, (...),
        &lt;link command N&gt;
      </p>
</td></tr>
</table></div>
<h5>
<a name="odtone.getStart.h8"></a>
      <span><a name="odtone.getStart.local_demo"></a></span><a class="link" href="getStart.html#odtone.getStart.local_demo">Local
      Demo</a>
    </h5>
<p>
      The local demo consists in a simple experiment to demonstrate simple message
      exchange between the MIHF, the MIH-User and the Link SAP. It allows you to
      see how events are generated by the Link SAP and then reported to a MIH-User
      that has subscribed to these events.
    </p>
<p>
      <span class="inlinemediaobject"><img src=".././images/local_demo.png" alt="local_demo"></span>
    </p>
<p>
      <span class="bold"><strong>Configuration</strong></span>
    </p>
<p>
      In order to properly run the local demo you will need to edit the default Link
      SAP configuration in order to identify the interface that it will manage (<span class="emphasis"><em>tec</em></span>
      and <span class="emphasis"><em>link_addr</em></span> properties).
    </p>
<p>
      <span class="bold"><strong>Running Demo</strong></span>
    </p>
<p>
      The best way to run this demo is to open 3 terminals. On the first terminal
      start ODTONE-MIHF and on another terminal start the Link SAP. You can see that,
      at Link SAP bootstrap, the Link SAP will register itself with its the local
      MIHF. Now it's time to start the MIH-User, on your remaining terminal. If all
      went well the MIH-User has requested for the capabilities of the local MIHF
      and printed out some information about the discovered interfaces (those that
      you previously configured. For each discovered interface, the MIH-User will
      subscribe to all supported events.
    </p>
<p>
      Now you can trigger some events by just disconnecting, disabling or shutting
      down your network cable/interface or wireless card (according to what you configured).
      You can see that the event notifications are propagated from the Link SAP to
      the MIH-User.
    </p>
<h5>
<a name="odtone.getStart.h9"></a>
      <span><a name="odtone.getStart.remote_demo"></a></span><a class="link" href="getStart.html#odtone.getStart.remote_demo">Remote
      Demo</a>
    </h5>
<p>
      The remote demo shows the ability of a MIH-User to obtain event notifications
      that happens on a Link SAP located on another machine. You are required to
      have two machines for this experiment. The first machine will host an ODTONE-MIHF
      (mihf1) and the MIH-User, while the second will host an ODTONE-MIHF (mihf2)
      and the Link_SAP.
    </p>
<p>
      <span class="inlinemediaobject"><img src=".././images/remote_demo.png" alt="remote_demo"></span>
    </p>
<p>
      <span class="bold"><strong>Configuration</strong></span>
    </p>
<p>
      Autonomous remote MIHF discovery is not yet implemented, so you need to configure
      the remote MIHF's IP addresses and port on each one of the MIHFs. Edit the
      ODTONE-MIHF configuration file and add an entry to peers MIHFs in the form:
    </p>
<pre class="programlisting"><span class="special">&lt;</span><span class="identifier">mihf_id</span><span class="special">&gt;</span> <span class="special">&lt;</span><span class="identifier">ip</span><span class="special">&gt;</span> <span class="special">&lt;</span><span class="identifier">port</span><span class="special">&gt;</span>
</pre>
<p>
      where &lt;mihf_id&gt; is the identifier of the remote MIHF, &lt;ip&gt; and
      &lt;port&gt; are the IP address and port of the remote MIHF respectively.
    </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
        You need to edit the configuration file on both machines
      </p></td></tr>
</table></div>
<p>
      The mihf1 configuration file must look like:
</p>
<pre class="programlisting"><span class="special">[</span><span class="identifier">mihf</span><span class="special">]</span>
<span class="identifier">id</span> <span class="special">=</span> <span class="identifier">mihf1</span>
<span class="identifier">local_port</span> <span class="special">=</span> <span class="number">1025</span>
<span class="identifier">remote_port</span> <span class="special">=</span> <span class="number">4551</span>
<span class="identifier">peers</span> <span class="special">=</span> <span class="identifier">mihf2</span> <span class="special">&lt;</span><span class="identifier">mihf1_IP_address</span><span class="special">&gt;</span> <span class="number">4551</span>
</pre>
<p>
    </p>
<p>
      The mihf2 configuration file must look like:
</p>
<pre class="programlisting"><span class="special">[</span><span class="identifier">mihf</span><span class="special">]</span>
<span class="identifier">id</span> <span class="special">=</span> <span class="identifier">mihf2</span>
<span class="identifier">local_port</span> <span class="special">=</span> <span class="number">1025</span>
<span class="identifier">remote_port</span> <span class="special">=</span> <span class="number">4551</span>
<span class="identifier">peers</span> <span class="special">=</span> <span class="identifier">mihf1</span> <span class="special">&lt;</span><span class="identifier">mihf2_IP_address</span><span class="special">&gt;</span> <span class="number">4551</span>
</pre>
<p>
    </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
        If you are using an Android emulator, the web traffic is routed through your
        development machine. So, the IP address assigned to Android emulator is the
        IP address of your machine. The development machine can be reached from Android
        emulator through 10.0.2.2.
      </p></td></tr>
</table></div>
<p>
      <span class="bold"><strong>Running Demo</strong></span>
    </p>
<p>
      On the machine that host the mihf2 start a terminal and run ODTONE-MIHF. Then,
      on another terminal start the Link SAP.
    </p>
<p>
      On the machine that host the mihf1 start a terminal and run ODTONE-MIHF. Then,
      on another terminal start the MIH-User with the configurable parameter <span class="emphasis"><em>--dest
      mihf2</em></span>. The <span class="emphasis"><em>--dest</em></span> option tells the MIH-User
      to set the MIHF destination field of the frame to mihf2.
    </p>
<p>
      Now, like in the local demo, you can trigger some events by just disconnecting,
      disabling or shutting down your network cable/interface or wireless card (according
      to what you configured). You can see that the event notifications are propagated
      from the Link SAP to the MIH-User.
    </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2009-2011 Universidade
      Aveiro<br>Copyright &#169; 2009-2011 Instituto de
      Telecomunica&#231;&#245;es - P&#243;lo Aveiro<p>
        This software is distributed under a license. The full license agreement
        can be found in the LICENSE in this distribution. This software may not be
        copied, modified, sold or distributed other than expressed in the named license
        agreement. This software is distributed without any warranty.
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="intro.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="library.html"><img src="../images/next.png" alt="Next"></a>
</div>
</body>
</html>
